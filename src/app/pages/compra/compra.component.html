<app-header></app-header>
<ion-content [scrollEvents]="true" *ngIf="produto">
    <div class="container">
        <div class="row align-items-center justify-content-center" style="padding-bottom: 30px;">
            <div class="card col-11" style="margin-bottom: 30px;">
                <div class="card-body">
                    <img class="card-img-top" [src]="produto.foto" [alt]="produto.nome + ': R$' + produto.preco ">
                    <h5 class="card-title">{{ produto.nome }}</h5>
                    <p class="card-text">
                        {{ produto.descricao }} - Valor Unitário <strong>{{ produto.preco | currency: 'BRL' }}</strong>
                    </p>
                </div>
            </div>

            <div class="col-12">
                <form (submit)="enviarDados($event)">
                    <div class="col-12 form-group">
                        <label>Quantidade</label>
                        <input type="number" name="quantidade" id="quantidade" minlength="1" min="1" class="form-control" [formControl]="quantidade"
                            [class.is-invalid]="quantidade.invalid"
                        >
                    </div>
                    <div class="col-12 form-group">
                        <label>Preço unitário</label>
                        <input type="text" readonly class="form-control-plaintext" id="valor" [value]="produto.preco | currency: 'BRL'">
                    </div>

                    <div class="col-12 form-group">
                        <label>Valor total</label>
                        <input type="text" readonly class="form-control-plaintext" id="total" [value]="total | async | currency: 'BRL'">
                    </div>

                    <div class="btn-center">
                        <button type="submit" class="btn btn-success" [disabled]="quantidade.invalid">Prosseguir</button>
                        <button type="button" class="btn btn-danger" (click)="cancelar()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ion-content>